<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Showing interpretation information for the results of a function — xplain • xplain</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Showing interpretation information for the results of a function — xplain" />

<meta property="og:description" content="Interprets/explains the results of a function call. Main function of the xplain package." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-99973049-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-99973049-1');
</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">xplain</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/tutorial/tutorial.html">Getting Started</a>
</li>
<li>
  <a href="../reference/index.html">Package Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Materials &amp; Tools
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Learning materials</li>
    <li>
      <a href="http://www.zuckarelli.de/xplain/xplain_cheatsheet.pdf">
        <span class="fa fa-file-pdf fa-lg"></span>
         
        xplain Cheat Sheet (PDF)
      </a>
    </li>
    <li class="dropdown-header">Examples</li>
    <li>
      <a href="http://www.zuckarelli.de/xplain/example_lm.xml">Example xplain XML file 1</a>
    </li>
    <li>
      <a href="http://www.zuckarelli.de/xplain/example_lm_foreach.xml">Example xplain XML file 2</a>
    </li>
    <li class="dropdown-header">Tools</li>
    <li>
      <a href="http://www.zuckarelli.de/xplain/xplain.xml">xplain syntax highlighting scheme for Notepad++</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/jsugarelli">
    <span class="fa fa-twitter fa-lg"></span>
     
    Twitter
  </a>
</li>
<li>
  <a href="https://topics-in-r.blogspot.de/">
    <span class="fa fa-rss fa-lg"></span>
     
    R Blog
  </a>
</li>
<li>
  <a href="http://wp13011521.server-he.de/rpackages/subscribe.php">
    <span class="fa fa-code fa-lg"></span>
     
    Newsletter
  </a>
</li>
<li>
  <a href="../mailto:joachim@zuckarelli.de">
    <span class="fa fa-envelope fa-lg"></span>
     
    E-mail
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Showing interpretation information for the results of a function</h1>
    
    <div class="hidden name"><code>xplain.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Interprets/explains the results of a function call. Main function of the <span class="pkg">xplain</span> package.</p>
    
    </div>

    <pre class="usage"><span class='fu'>xplain</span>(<span class='no'>call</span>, <span class='kw'>xml</span><span class='kw'>=</span><span class='st'>""</span>, <span class='kw'>lang</span> <span class='kw'>=</span> <span class='st'>""</span>, <span class='kw'>level</span> <span class='kw'>=</span> -<span class='fl'>1</span>, <span class='kw'>filename</span><span class='kw'>=</span><span class='st'>""</span>, <span class='kw'>sep</span><span class='kw'>=</span><span class='st'>"\n"</span>, <span class='kw'>title.char</span><span class='kw'>=</span><span class='st'>"-"</span>,
    <span class='kw'>before</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>addfun</span><span class='kw'>=</span><span class='st'>""</span>, <span class='kw'>addfun.args</span><span class='kw'>=</span><span class='st'>""</span>, <span class='kw'>addfun.title</span><span class='kw'>=</span><span class='st'>""</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>call</th>
      <td><p>Function call (as string) to be explained/interpreted.</p></td>
    </tr>
    <tr>
      <th>xml</th>
      <td><p>Path to the xplain XML file containing the interpretation/explanation information (optional). Can be either a local path or an URL. See below for more details on how <code>xplain()</code> tries to find xplain XML files if no file is specified with <code>xml</code>.</p></td>
    </tr>
    <tr>
      <th>lang</th>
      <td><p>ISO country code of the language of the interpretations/explanations that shall be shown (optional). If none is specified, <code>xplain()</code> tries to determine the language of the user's current work environment. If that is not possible then English is taken as defualt value (same effect as <code>lang="EN"</code>).</p></td>
    </tr>
    <tr>
      <th>level</th>
      <td><p>Integer number indicating the complexity level of the interpretations/explanations that shall be shown (optional). <code>level</code> is cumulative: All interpretations/explanations with a level number up to the number provided are shown. Default: -1, i.e. all interpretations/explanations are shown.</p></td>
    </tr>
    <tr>
      <th>filename</th>
      <td><p>File to write the <code>xplain()</code> output to (optional). If no file name is provided the <code>xplain()</code> output is shown in the console.</p></td>
    </tr>
    <tr>
      <th>sep</th>
      <td><p>Separator used to separate the outputs from consecutive XML text elements (&lt;text&gt;...&lt;/text&gt;) (optional). Default: <code>"\n"</code>.</p></td>
    </tr>
    <tr>
      <th>title.char</th>
      <td><p>Character used for underlining titles (optional). Default: <code>"-"</code>.</p></td>
    </tr>
    <tr>
      <th>before</th>
      <td><p>Indicates if the results of the call of the explained function shall be shown before the xplain interpretations/explanations, or after (optional). Default: <code>TRUE</code>, i.e. function output is shown before the interpretations/explanations.</p></td>
    </tr>
    <tr>
      <th>addfun</th>
      <td><p>Vector of names of additional functions that shall be called (e.g. <code>summary()</code>), without brackets (optional). It is assumed that these functions take the return object of the explained function as their first argument. Further arguments can be specified with <code>addfun.args</code>. Results of the additional functions are shown right after the output of the explained function.</p></td>
    </tr>
    <tr>
      <th>addfun.args</th>
      <td><p>Vector of arguments (apart from the return object of the explained function) for the additional functions (optional).
Example: <code>addfun.args = "trim = 0, na.rm = FALSE"</code>. Argument must be of the same length as <code>addfun</code>; <code>addfun.args</code> must be <code>""</code> (empty string) if the respective additional function does not take any additional arguments.</p></td>
    </tr>
    <tr>
      <th>addfun.title</th>
      <td><p>Vector of titles that will be shown as headers to the outputs of the addional functions (optional). Argument must be of the same length as <code>addfun</code>; <code>addfun.args</code> must be <code>""</code> (empty string) if the respective the output of the additional function shall have no title.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    
    <p><code>xplain</code> interprets/explains the results of a function call (argument <code>call</code>) by using the information provided in the xplain XML file specified by the <code>xml</code> argument.</p>
    <h3>1. xplain XML files</h3>
    xplain XML files follow a simple structure (here an example for the <code>lm()</code> function from the <code>stats</code> package):<br />
    &lt;xml&gt;<br />
____&lt;xplain&gt;<br />
________&lt;package name = "stats"&gt;<br />
____________&lt;function name = "lm"&gt;<br />
________________&lt;title&gt;...&lt;/title&gt;<br />
________________&lt;text&gt;...&lt;/text&gt;<br />
________________&lt;result name = "coefficients"&gt;<br />
____________________&lt;title&gt;...&lt;title&gt;<br />
____________________&lt;text&gt;...&lt;/text&gt;<br />
________________&lt;/result&gt;<br />
____________&lt;/function&gt;<br />
________&lt;/package&gt;<br />
____&lt;/xplain&gt;<br />
&lt;/xml&gt;<br />
    <code>&lt;title&gt;</code> elements contain plain text and can be used to structure the output of <code>xplain()</code>. They are underlined by the character given in the <code>title.char</code> argument.
    <code>&lt;text&gt;</code> elements contain the actual explanations and interpretations. They may consist of plain text as well as R code. R code must be enclosed by special opening and closing tags like this: <code>!%% Here comes the R code %%!</code>. The placeholder <code>@</code> can be used to access the explained function's return object, e.g. <code>!%% summary(@) %%!</code>.
    With a <code>&lt;result&gt;</code> block you can interpret specific elements of the explained function's return object. The element of the current <code>&lt;result&gt;</code> block can be accessed with the <code>##</code> placeholder from within an R code section delimited by <code>!%%</code> and <code>%%!</code>. Example: <code>&lt;text&gt; The mean is: !%% mean(##) %%!&lt;/text&gt;</code>.
    If you use certain R code expressions multiple times and want to save typing effort and reduce error-proness, you can work with a <code>&lt;define&gt;</code> block. Like a <code>&lt;text&gt;</code> block, <code>&lt;define&gt;</code> can encompass both, plain text and R code, e.g.<br />
<code>&lt;define name="my.summary"&gt;The summary is: !%% summary(@) %%! &lt;/define&gt;</code>. After having defined an expression this way, you can call it from within an R code section by using its name and placing it between the special placeholder tags <code>!**</code> and <code>**!</code>, like <code>&lt;text&gt;Let us have a lookt at the summary: !** my.summary **! &lt;/text&gt;</code>.
    <p>Sometimes you will want to apply a <code>&lt;text&gt;</code> block not only to one element of the explained function's return object. Consider, for example, the case in which the return object contains a vector and you want to run through each element of that vector. In this case, you can use a <code>&lt;text&gt;</code> element with the <code>foreach</code> attribute, e.g. <code>&lt;text foreach="rows"&gt;</code>. The attribute's value defines how xplain iterates over the object. Possible values are <code>"rows"</code>, <code>"columns"</code>, <code>"rows, columns"</code>, <code>"columns, rows"</code> and <code>"items"</code> for list items. Within R code included in your <code>&lt;text&gt;</code> block you can then refer to the index of the current object with the <code>$</code> placeholder, e.g. <code>!%% The current element is: @$coefficients[$,1] %%!</code>. If two different indices are in play (e.g. when <code>foreach="rows, columns"</code>) then you can work with two index placeholders <code>$</code>, e.g. <code>coefficients[$,$]</code>.<br />
Because <code>xplain()</code> needs to know which object to iterate over, you can use <code>&lt;text&gt;</code>  with the <code>foreach</code> attribute only form within a <code>&lt;result&gt;</code> block.</p>
<p><code>xplain()</code> can access XML files both locally and from the internet. xplain XML fiels are not case-sensitive.</p>
    <h3>2. XML Attributes</h3>
    <code>&lt;package&gt;</code>, <code>&lt;function&gt;</code>, <code>&lt;result&gt;</code> and <code>&lt;define&gt;</code> blocks always need a <code>name</code> attribute.
    <code>&lt;title&gt;</code> and <code>&lt;text&gt;</code> blocks can have <code>lang</code> and <code>level</code> attributes, for the language and the complexity level of the explanations, respectively. <code>lang</code> is an ISO country code and <code>level</code> an integer number (for details, see the explanantion of the corresponding arguments of <code>xplain()</code> above). The values of these two attributes are inherited from higher-level XML elements, e.g. from <code>&lt;package&gt;</code> or <code>&lt;function&gt;</code>. Attributes defined at lower levels (e.g. in an individual <code>&lt;text&gt;</code> element) overrule these inherited attributes.
    <h3>3. Search paths from xplain XML files</h3>
    If no path is provided with the <code>xml</code> argument of <code>xplain()</code> or the provided file does not exist then <code>xplain()</code> searches for a suitable XML file in various locations:<br />
<ol>
<li><p>in the path of the package containing the function from which <code>xplain()</code> was called for a file of the name "package_of_the_calling_function.xml";<br /></p></li>
<li><p>in the same path for a file with the name "package_of_the_explained_function.xml" (the function given in the <code>call</code> argument);<br /></p></li>
<li><p>in the path of the package containing the explained function for a file with the name "package_of_the_explained_function.xml";<br /></p></li>
<li><p>in the current working directory for a file with the name "package_of_the_explained_function.xml"; and<br /></p></li>
<li><p>in the current working directory for a file with the name "explained_function.xml".</p></li>
</ol>
    <h3>4. More information on xplain XML files</h3>
    For more details on the structure of xplain XML files, please consult the web tutorial on <a href='http://www.zuckarelli.de/xplain/index.html'>http://www.zuckarelli.de/xplain/index.html</a>.
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>xplain()</code> returns the return value of the explained function call (argument <code>call</code>) as if the function were called without <code>xplain()</code>. The interpretation/explanation information is either shown on the screen or written to a file (depending on the <code>filename</code> argument).</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='xplain-package.html'>xplain-package</a></code>, <code><a href='xplain.overview.html'>xplain.overview</a></code>, <code><a href='xplain.getcall.html'>xplain.getcall</a></code></p></div>
    
    <h2 class="hasAnchor" id="more-material-on-the-internet"><a class="anchor" href="#more-material-on-the-internet"></a>More material on the internet</h2>

    <p>Web tutorial on how to work with xplain: <a href='http://www.zuckarelli.de/xplain/index.html'>http://www.zuckarelli.de/xplain/index.html</a><br />
xplain cheat sheet: <a href='http://www.zuckarelli.de/xplain/xplain_cheatsheet.pdf'>http://www.zuckarelli.de/xplain/xplain_cheatsheet.pdf</a></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'>library</span>(<span class='no'>car</span>)

<span class='fu'>xplain</span>(<span class='kw'>call</span><span class='kw'>=</span><span class='st'>"lm(education ~ young + income + urban, data=Anscombe)"</span>,
  <span class='kw'>xml</span><span class='kw'>=</span><span class='st'>"http://www.zuckarelli.de/xplain/example_lm.xml"</span>)</div><div class='output co'>#&gt; 
#&gt; Call:
#&gt; lm(formula = education ~ young + income + urban, data = Anscombe)
#&gt; 
#&gt; Coefficients:
#&gt; (Intercept)        young       income        urban  
#&gt;  -286.83876      0.81734      0.08065     -0.10581  
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>

      <li><a href="#more-material-on-the-internet">More material on the internet</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Joachim Zuckarelli, <a href='mailto:joachim@zuckarelli.de'>joachim@zuckarelli.de</a>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Joachim Zuckarelli.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

